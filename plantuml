@startuml
IServer <|-- Server
Node *-- Server
Node *-- Parser
Database o-- Node

class Node
{
init()
run()
new_message(std::string)
}

class Server
{
init(*callback)
listen()
}

interface IServer
{
start()
listen()
}

class Parser
{
parse(Device& dev, std::string message)
}

class Device
{
std::string id;
size_t message_counter;
}

class Database
{
reset()
start()
update_stats(Device &dev)
print()
}
@enduml